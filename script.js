const data = {"sources":[{"id":1,"name":"meduza"},{"id":6,"name":"3dnews"},{"id":7,"name":"nytimes"},{"id":8,"name":"forbes"},{"id":9,"name":"igromania"},{"id":10,"name":"buro237"},{"id":11,"name":"rusvesna"},{"id":12,"name":"7ya"},{"id":14,"name":"aif"},{"id":15,"name":"gazetaru"},{"id":16,"name":"karpov.courses"}],"categories":[{"id":1,"name":"tech"},{"id":2,"name":"sport"},{"id":3,"name":"fashion"},{"id":4,"name":"politics"},{"id":5,"name":"other"},{"id":6,"name":"karpov.courses"}],"items":[{"id":25157,"lang":"ru","date":"Thu Sep 02 2021 23:31:06 GMT+0300 (Moscow Standard Time)","title":"В Сочи суд арестовал блогера, катавшегося примотанным скотчем к машине","description":"Также нарушителю выписаны административные штрафы.","image":"https://img.gazeta.ru/files3/870/12803870/upload-RIAN_6068011.HR-pic905-895x505-39.jpg","source_id":14,"category_id":5},{"id":25146,"lang":"ru","date":"Thu Sep 02 2021 23:30:00 GMT+0300 (Moscow Standard Time)","title":"В Киеве рассказали об опасности переименования Украины","description":"Как считает экс-депутат, «необходимость борьбы за слово “Русь” была в 19 веке».","image":"https://rusvesna.su/sites/default/files/trezub_ukraina.jpg","source_id":11,"category_id":5},{"id":25411,"lang":"ru","date":"Thu Sep 02 2021 23:28:00 GMT+0300 (Moscow Standard Time)","title":"Motorola представила смартфоны Edge 20 Business Edition и Edge 20 Lite Business Edition с повышенной безопасностью","description":"Motorola представила смартфоны Edge 20 Business Edition и Edge 20 Lite Business Edition. Новые версии имеют такое же оснащение, что и обычные версии, однако имеют лучшие возможности для обеспечения безопасности пользовательских данных. Стоит отметить, что Motorola Edge 20 Pro Business Edition вышел некоторое время назад.","image":"https://3dnews.ru/assets/external/illustrations/2021/09/02/1048219/3289328.jpg","source_id":6,"category_id":1},{"id":25269,"lang":"ru","date":"Thu Sep 02 2021 23:23:31 GMT+0300 (Moscow Standard Time)","title":"Россия не продлит мандат ОБСЕ на пунктах пропуска на границе с Украиной","description":"Россия не видит оснований для того, чтобы продлить мандат группы наблюдателей ОБСЕ на пунктах пропуска \"Гуково\" и \"Донецк\" на границе с Украиной после 30 сентября. Об этом заявил постпред РФ при организации Александр ...","image":"https://img.gazeta.ru/files3/870/12803870/upload-RIAN_6068011.HR-pic905-895x505-39.jpg","source_id":15,"category_id":4},{"id":25284,"lang":"ru","date":"Thu Sep 02 2021 23:20:19 GMT+0300 (Moscow Standard Time)","title":"Зеленский назвал Украину мировым \"ИТ-хабом\"","description":"Президент Украины Владимир Зеленский сообщил после встречи с гендиректором Apple Тимом Куком, что Киев заинтересован в новых совместных проектах. Об этом заявляется в Twiiter-профиле украинского главы.\n\n\"Рад встретиться с Тимом Куком, ...","image":"https://img.gazeta.ru/files3/748/13945748/E-TR-e1WQA4Qz7h-pic905-895x505-94848.jpg","source_id":15,"category_id":4},{"id":25174,"lang":"ru","date":"Thu Sep 02 2021 23:15:41 GMT+0300 (Moscow Standard Time)","title":"Адвокат Костюшкина раскрыл доказательства плагиата в песне Монеточки","description":"Певица уже дважды пропустила суд по делу о нарушении авторских прав экс-участника группы «Чай вдвоем».","image":"https://aif-s3.aif.ru/images/024/948/bdd4ec42ce165cc3b9797e80b0b85b36.jpg","source_id":14,"category_id":3},{"id":25190,"lang":"ru","date":"Thu Sep 02 2021 23:05:01 GMT+0300 (Moscow Standard Time)","title":"Зеленский пообещал американцам, что Украина станет «лидером Европы»","description":"В рамках рабочей поездки в США украинский президент 2 сентября выступил в Стэндфордском университете.","image":"https://aif-s3.aif.ru/images/024/948/0a7b249b2cecc221c01e6c0538de3fdd.jpeg","source_id":14,"category_id":4},{"id":25300,"lang":"ru","date":"Thu Sep 02 2021 23:02:34 GMT+0300 (Moscow Standard Time)","title":"Глава МИД Австрии назвал условие для признания \"Талибана\"","description":"Министр иностранных дел Австрии Александер Шалленберг по прибытии на неформальную встречу главы МИД стран Евросоюза в Словении заявил о том, возможное признание радикального движения \"Талибан\" со стороны международного сообщества ...","image":"https://img.gazeta.ru/files3/800/13938800/AP21243461700365-pic905-895x505-5182.jpg","source_id":15,"category_id":4},{"id":25206,"lang":"ru","date":"Thu Sep 02 2021 23:00:17 GMT+0300 (Moscow Standard Time)","title":"Попова рассказала о ситуации с новыми штаммами коронавируса в РФ","description":"Глава Роспотребнадзора не исключила, что осенью в стране может начаться подъём заболеваемости.","image":"https://aif-s3.aif.ru/images/024/948/e6bcdb89be63b2b45c0cf7627a5e343c.jpg","source_id":14,"category_id":5},{"id":25478,"lang":"ru","date":"Thu Sep 02 2021 22:59:47 GMT+0300 (Moscow Standard Time)","title":"Гай Германика прокомментировала задержание мужа в столичном отеле","description":"Режиссер Валерия Гай Германика отреагировала на задержание своего мужа, бизнесмена Дениса Молчанова. Об этом сообщает издание Starhit.\n\n\"У богатых свои причуды, но наркотиков точно нет\", - объяснила российский режиссер.\n\nОна ...","image":"https://img.gazeta.ru/files3/907/12216907/upload-RIAN_2453813.HR-pic905-895x505-67565.jpg","source_id":15,"category_id":3},{"id":25219,"lang":"ru","date":"Thu Sep 02 2021 22:55:33 GMT+0300 (Moscow Standard Time)","title":"Попова рассказала, сколько надо ждать между прививками от гриппа и COVID","description":"По словам главы Роспотребнадзора, выждать надо не менее четырех недель.","image":"https://aif-s3.aif.ru/images/024/948/82ae8d058238386c241baa51723df142.jpg","source_id":14,"category_id":5},{"id":25161,"lang":"ru","date":"Thu Sep 02 2021 22:55:11 GMT+0300 (Moscow Standard Time)","title":"Украина станет лидером Европы, — Зеленский","description":"Президент Украины сделал очередное абсурдное заявление.","image":"https://rusvesna.su/sites/default/files/zelenskiy_vladimir_0.jpg","source_id":11,"category_id":5},{"id":25424,"lang":"ru","date":"Thu Sep 02 2021 22:55:00 GMT+0300 (Moscow Standard Time)","title":"Предстоящая VR/AR-гарнитура Apple потребует подключения к iPhone","description":"Первую VR/AR-гарнитуру Apple, которая сейчас находится в разработке, необходимо будет подключать по беспроводной сети к iPhone или другому устройству Apple, чтобы получить полную функциональность. Об этом сообщило издание The Information. Гарнитура будет полагаться на вычислительные мощности подключённого устройства Apple.","image":"https://3dnews.ru/assets/external/illustrations/2021/09/02/1048218/89489234.jpg","source_id":6,"category_id":1},{"id":25175,"lang":"ru","date":"Thu Sep 02 2021 22:47:41 GMT+0300 (Moscow Standard Time)","title":"Центробанк описал сценарий глобального финансового кризиса в 2023 году","description":"Базовый прогноз и три альтернативных сценария от Центробанка.","image":"https://rusvesna.su/sites/default/files/kopilka_dollar_dengi_finansy.jpg","source_id":11,"category_id":5},{"id":25234,"lang":"ru","date":"Thu Sep 02 2021 22:45:09 GMT+0300 (Moscow Standard Time)","title":"Минпросвещения запустило конкурс «Директор года России»","description":"Подать заявку на участие в конкурсе может любой директор школы со стажем работы свыше трех лет.","image":"https://aif-s3.aif.ru/images/024/948/fcd96fd75c4008e037c6ec8aaaf797b8.jpg","source_id":14,"category_id":4},{"id":25144,"lang":"ru","date":"Thu Sep 02 2021 22:41:08 GMT+0300 (Moscow Standard Time)","title":"Сезон Tempest в For Honor стартует&nbsp;9 сентября","description":"Глава Mirage будет закрыта.","image":"https://cdn.igromania.ru/mnt/news/e/d/9/5/6/b/108303/b39e8cacacdc15b6_848x477.jpg","source_id":9,"category_id":1},{"id":25314,"lang":"ru","date":"Thu Sep 02 2021 22:40:41 GMT+0300 (Moscow Standard Time)","title":"В офисе Зеленского заявили о готовности США \"помочь\" завершить конфликт на востоке Украины","description":"Соединенные Штаты в ходе визита Владимира Зеленского в Вашингтон подтвердили готовность помочь Украине завершить \"войну\" и обеспечить систему безопасности страны. Об этом в эфире телеканала \"1+1\" заявил глава офиса ...","image":"https://img.gazeta.ru/files3/322/13933322/2in1-2021new-pic905-895x505-95738.jpg","source_id":15,"category_id":4},{"id":25383,"lang":"ru","date":"Thu Sep 02 2021 22:39:06 GMT+0300 (Moscow Standard Time)","title":"Virgin Galactic Брэнсона запретили устраивать полеты в космос","description":"Компании Virgin Galactic британского предпринимателя Ричарда Брэнсона временно запретили организовывать полеты в космос. Об этом сообщает FOX Business.\n\nПо информации Федерального управления гражданской авиации США, у Virgin Galactic не ...","image":"https://img.gazeta.ru/files3/900/13721900/upload-2021-07-11T161320Z_701195493_HP1EH7B18UQ0N_RTRMADP_3_SPACE-EXPLORATION-VIRGINGALACTIC-pic905-895x505-70481.jpg","source_id":15,"category_id":4},{"id":25248,"lang":"ru","date":"Thu Sep 02 2021 22:35:58 GMT+0300 (Moscow Standard Time)","title":"Полузащитник ЦСКА Марадишвили стал игроком «Локомотива»","description":"Футболист сыграл за ЦСКА 49 матчей, забив два мяча.","image":"https://aif-s3.aif.ru/images/024/948/8a6d36735e7ee1c06dabeceaa24c37e6.jpg","source_id":14,"category_id":2},{"id":25261,"lang":"ru","date":"Thu Sep 02 2021 22:23:28 GMT+0300 (Moscow Standard Time)","title":"В Российском движении школьников сочли оговорку Путина неслучайной","description":"Ранее ученик из Воркуты поправил президента во время открытого урока истории во Владивостоке.","image":"https://aif-s3.aif.ru/images/024/948/b3431532fdc9c910a45338dd31c85726.jpg","source_id":14,"category_id":4}]}

const escapeString = (string) => {
    const tagsToReplace = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;'
    };

    return string.replace(/[&<>]/g, function(tag) {
        return tagsToReplace[tag] || tag;
    });
}

const createMainNewsItem = (item) => {
    return `
    <article class="main-article">
         <div class="main-article__content">
             <h2 class="main-article__title">${escapeString(item.title)}</h2>
             <img class="main-article__image" src="${encodeURI(item.image)}" alt="Картинка">
             <p class="main-article__text">${escapeString(item.description)}</p>
             <span class="main-article__src">${escapeString(data.sources.find(({ id }) => item.source_id === id).name)}</span>
         </div>
    </article>
    `;
}

const mainNews = data.items.slice(0, 3);
const mainNewsContainer = document.querySelector('.articles');

mainNews.forEach((item) => {
    const template = document.createElement('template');
    template.innerHTML = createMainNewsItem(item);
    mainNewsContainer.appendChild(template.content);
})
// <article class="main-article">
//     <div class="main-article__content">
//         <h2 class="main-article__title">Привет, это независимые новости</h2>
//         <img src="/" alt="Картинка">
//             <p class="main-article__text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci consectetur dignissimos, eaque eius exercitationem facere iste minima necessitatibus nisi numquam provident quibusdam quidem quis rem reprehenderit similique voluptas? Dolor, odit.</p>
//             <span class="main-article__src">Газета ру</span>
//     </div>
// </article>
